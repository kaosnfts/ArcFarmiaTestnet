*{box-sizing:border-box;font-family:"Press Start 2P",system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}body{margin:0;min-height:100vh}.page-bg{min-height:100vh;width:100%;display:flex;justify-content:center;align-items:flex-start;background-size:cover;background-repeat:no-repeat;position:relative;overflow:hidden}.page-bg.time-day{background-image:linear-gradient(#38bdf8 0,#0ea5e9 32%,#22c55e 70%,#14532d)}.page-bg.time-evening{background-image:linear-gradient(#f97316 0,#ea580c 30%,#22c55e,#14532d)}.page-bg.time-night{background-image:linear-gradient(#020617 0,#0f172a 35%,#1e293b 60%,#022c22)}.sky-decor{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;z-index:1}.sky-sun,.sky-moon{position:absolute;width:80px;height:80px;opacity:0;transition:opacity .8s ease}.sky-sun{top:40px;right:12%}.sky-moon{top:60px;left:10%}.page-bg.time-day .sky-sun{opacity:1}.page-bg.time-evening .sky-sun{opacity:.7}.page-bg.time-night .sky-sun{opacity:0}.page-bg.time-night .sky-moon{opacity:1}.page-bg.time-evening .sky-moon{opacity:.3}.sky-cloud{position:absolute;width:160px;height:80px;opacity:.9}.cloud-1{top:70px;left:-20%;animation:cloudDrift 60s linear infinite}.cloud-2{top:120px;right:-25%;animation:cloudDriftReverse 75s linear infinite}.cloud-3{top:40%;left:-15%;animation:cloudDrift 80s linear infinite}.page-bg.time-night .sky-cloud{opacity:.45}@keyframes cloudDrift{0%{transform:translate(0)}to{transform:translate(160vw)}}@keyframes cloudDriftReverse{0%{transform:translate(0)}to{transform:translate(-160vw)}}.sky-birds{position:absolute;font-size:18px;text-shadow:0 0 4px rgba(15,23,42,.7)}.birds-1{top:22%;left:-10%;animation:birdsFly 30s linear infinite}.birds-2{top:32%;left:-20%;animation:birdsFly 40s linear infinite}.page-bg.time-night .sky-birds{opacity:.55}@keyframes birdsFly{0%{transform:translate(0) translateY(0)}50%{transform:translate(70vw) translateY(-10px)}to{transform:translate(140vw) translateY(4px)}}.weather-overlay{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:2}.rain-drops{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden}.rain-drop{position:absolute;width:2px;height:14px;border-radius:999px;background:#94a3b8e6;animation:rainDrop .9s linear infinite}.rain-drop:nth-child(odd){opacity:.9}.rain-drop:nth-child(3n){height:18px;animation-duration:.75s}.rain-drop:nth-child(5n){animation-duration:1.1s;background:#94a3b899}.rain-drop:nth-child(1){left:1.6vw;animation-delay:.08s}.rain-drop:nth-child(2){left:3.2vw;animation-delay:.16s}.rain-drop:nth-child(3){left:4.8vw;animation-delay:.24s}.rain-drop:nth-child(4){left:6.4vw;animation-delay:.32s}.rain-drop:nth-child(5){left:8vw;animation-delay:.4s}.rain-drop:nth-child(6){left:9.6vw;animation-delay:.48s}.rain-drop:nth-child(7){left:11.2vw;animation-delay:.56s}.rain-drop:nth-child(8){left:12.8vw;animation-delay:.64s}.rain-drop:nth-child(9){left:14.4vw;animation-delay:.72s}.rain-drop:nth-child(10){left:16vw;animation-delay:0s}.rain-drop:nth-child(11){left:17.6vw;animation-delay:.08s}.rain-drop:nth-child(12){left:19.2vw;animation-delay:.16s}.rain-drop:nth-child(13){left:20.8vw;animation-delay:.24s}.rain-drop:nth-child(14){left:22.4vw;animation-delay:.32s}.rain-drop:nth-child(15){left:24vw;animation-delay:.4s}.rain-drop:nth-child(16){left:25.6vw;animation-delay:.48s}.rain-drop:nth-child(17){left:27.2vw;animation-delay:.56s}.rain-drop:nth-child(18){left:28.8vw;animation-delay:.64s}.rain-drop:nth-child(19){left:30.4vw;animation-delay:.72s}.rain-drop:nth-child(20){left:32vw;animation-delay:0s}.rain-drop:nth-child(21){left:33.6vw;animation-delay:.08s}.rain-drop:nth-child(22){left:35.2vw;animation-delay:.16s}.rain-drop:nth-child(23){left:36.8vw;animation-delay:.24s}.rain-drop:nth-child(24){left:38.4vw;animation-delay:.32s}.rain-drop:nth-child(25){left:40vw;animation-delay:.4s}.rain-drop:nth-child(26){left:41.6vw;animation-delay:.48s}.rain-drop:nth-child(27){left:43.2vw;animation-delay:.56s}.rain-drop:nth-child(28){left:44.8vw;animation-delay:.64s}.rain-drop:nth-child(29){left:46.4vw;animation-delay:.72s}.rain-drop:nth-child(30){left:48vw;animation-delay:0s}.rain-drop:nth-child(31){left:49.6vw;animation-delay:.08s}.rain-drop:nth-child(32){left:51.2vw;animation-delay:.16s}.rain-drop:nth-child(33){left:52.8vw;animation-delay:.24s}.rain-drop:nth-child(34){left:54.4vw;animation-delay:.32s}.rain-drop:nth-child(35){left:56vw;animation-delay:.4s}.rain-drop:nth-child(36){left:57.6vw;animation-delay:.48s}.rain-drop:nth-child(37){left:59.2vw;animation-delay:.56s}.rain-drop:nth-child(38){left:60.8vw;animation-delay:.64s}.rain-drop:nth-child(39){left:62.4vw;animation-delay:.72s}.rain-drop:nth-child(40){left:64vw;animation-delay:0s}.rain-drop:nth-child(41){left:65.6vw;animation-delay:.08s}.rain-drop:nth-child(42){left:67.2vw;animation-delay:.16s}.rain-drop:nth-child(43){left:68.8vw;animation-delay:.24s}.rain-drop:nth-child(44){left:70.4vw;animation-delay:.32s}.rain-drop:nth-child(45){left:72vw;animation-delay:.4s}.rain-drop:nth-child(46){left:73.6vw;animation-delay:.48s}.rain-drop:nth-child(47){left:75.2vw;animation-delay:.56s}.rain-drop:nth-child(48){left:76.8vw;animation-delay:.64s}.rain-drop:nth-child(49){left:78.4vw;animation-delay:.72s}.rain-drop:nth-child(50){left:80vw;animation-delay:0s}.rain-drop:nth-child(51){left:81.6vw;animation-delay:.08s}.rain-drop:nth-child(52){left:83.2vw;animation-delay:.16s}.rain-drop:nth-child(53){left:84.8vw;animation-delay:.24s}.rain-drop:nth-child(54){left:86.4vw;animation-delay:.32s}.rain-drop:nth-child(55){left:88vw;animation-delay:.4s}.rain-drop:nth-child(56){left:89.6vw;animation-delay:.48s}.rain-drop:nth-child(57){left:91.2vw;animation-delay:.56s}.rain-drop:nth-child(58){left:92.8vw;animation-delay:.64s}.rain-drop:nth-child(59){left:94.4vw;animation-delay:.72s}.rain-drop:nth-child(60){left:96vw;animation-delay:0s}@keyframes rainDrop{0%{transform:translate3d(0,-100px,0)}to{transform:translate3d(0,100vh,0)}}.lightning-flash{position:absolute;top:-20px;right:25%;width:10px;height:160px;background:linear-gradient(to bottom,#fef9c3e6,#fde047e6,#f97316b3);clip-path:polygon(40% 0,60% 0,80% 35%,55% 40%,75% 75%,45% 80%,55% 100%,35% 70%,55% 65%,35% 30%);opacity:0;filter:drop-shadow(0 0 12px rgba(253,224,71,.95));animation:lightningFlash 8s infinite}@keyframes lightningFlash{0%,82%{opacity:0}83%{opacity:1}84%{opacity:0}86%{opacity:1}88%,to{opacity:0}}.fog-puffs{position:absolute;bottom:0;left:0;right:0;height:55%;overflow:hidden}.fog-puff{position:absolute;bottom:-20px;width:140px;height:70px;border-radius:999px;background:radial-gradient(circle at 30% 30%,rgba(226,232,240,.7),rgba(148,163,184,.2),transparent 70%);filter:blur(1px);animation:fogDrift 35s linear infinite}.fog-puff:nth-child(odd){animation-duration:42s}.fog-puff:nth-child(3n){animation-duration:50s;opacity:.7}@keyframes fogDrift{0%{transform:translate3d(-20vw,0,0)}to{transform:translate3d(120vw,0,0)}}#root{width:100%}.app-root{max-width:1200px;margin:10px auto 20px;padding:10px;display:flex;flex-direction:column;gap:8px;background:#0f172af0;border-radius:16px;border:1px solid #22c55e;box-shadow:0 18px 40px #0f172af2;color:#e5e7eb;position:relative;z-index:5}.top-bar{display:flex;justify-content:space-between;align-items:center}.brand-title{font-size:18px}.brand-sub{font-size:9px;opacity:.8}.stats{font-size:10px;display:flex;gap:10px;align-items:center}.backpack-btn{border:1px solid #38bdf8;background:#020617;border-radius:999px;padding:3px 8px 3px 6px;display:flex;align-items:center;gap:4px;cursor:pointer}.backpack-btn img{width:22px;height:22px}.backpack-btn.open{background:#0f172a;box-shadow:0 0 0 1px #38bdf8}.layout{display:grid;grid-template-columns:minmax(0,2.2fr) minmax(0,1.3fr);gap:10px}.left,.right{display:flex;flex-direction:column;gap:8px}.npc-row{display:flex;gap:6px;flex-wrap:wrap}.npc-card{background:#020617;border-radius:10px;padding:4px 6px;display:flex;gap:5px;align-items:center;border:1px solid #38bdf8}.npc-card.fallback{flex:1}.npc-avatar-wrap{width:40px;height:52px;overflow:hidden;border-radius:8px;border:1px solid #0ea5e9}.npc-avatar-wrap img{width:100%;height:100%;object-fit:cover}.npc-bubble{font-size:8px}.npc-name{font-size:9px;margin-bottom:2px}.npc-text{font-size:8px}.field-card{background:#020617;border-radius:12px;border:1px solid #22c55e;padding:8px}.field-header{display:flex;justify-content:space-between;align-items:center;font-size:10px;margin-bottom:4px}.field-sub{display:block;font-size:8px;opacity:.7}.mode-switch button{font-size:8px;border-radius:999px;padding:2px 8px;margin-left:4px;border:1px solid #64748b;background:#0f172a;color:#e5e7eb;cursor:pointer}.mode-switch button.active{border-color:#22c55e;background:#14532d}.crop-selector{display:flex;gap:4px;margin-bottom:6px;flex-wrap:wrap}.crop-btn{border-radius:999px;border:1px solid #4b5563;background:#020617;color:#e5e7eb;padding:3px 6px;font-size:8px;display:inline-flex;align-items:center;gap:4px;cursor:pointer}.crop-btn.active{border-color:#22c55e;background:#14532d}.crop-emoji{font-size:12px}.crop-name{font-size:8px}.crop-count{font-size:7px;opacity:.8}.field-fence{position:relative;padding:12px;border-radius:18px;background:radial-gradient(circle at 50% 0%,#166534,#052e16);border:6px solid #92400e;box-shadow:0 0 0 2px #451a03;margin-bottom:4px}.fence-horizontal{position:absolute;left:8px;right:8px;height:8px;background-image:repeating-linear-gradient(90deg,#92400e 0,#92400e 12px,#b45309 12px,#b45309 24px);border-radius:999px}.fence-horizontal.top{top:4px}.fence-horizontal.bottom{bottom:4px}.grid{position:relative;display:grid;grid-template-columns:repeat(8,1fr);gap:4px;background-image:linear-gradient(#052e16,#064e3b);padding:8px;border-radius:12px}.tile{border-radius:8px;border:1px solid #15803d;background:radial-gradient(circle at 30% 20%,#166534,#14532d);cursor:pointer;position:relative;height:76px;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}.tile.empty{background:radial-gradient(circle at 30% 20%,#166534,#14532d)}.tile.planted{background:radial-gradient(circle at 50% 10%,#0f766e,#064e3b)}.tile.growing{background:radial-gradient(circle at 40% 0%,#22c55e,#15803d)}.tile.ready{background:radial-gradient(circle at 50% 0%,#bef264,#4d7c0f)}.tile-ready-anim{animation:readyPulse .7s ease-out}@keyframes readyPulse{0%{box-shadow:0 0 #bef264b3}to{box-shadow:0 0 0 12px #bef26400}}.tile-emoji{font-size:22px}.tile-status{font-size:8px;margin-top:2px;color:#ecfdf5}.player-dot{position:absolute;bottom:4px;right:4px;font-size:14px}.player-here{box-shadow:0 0 0 2px #0ea5e9}.fx-layer{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;pointer-events:none}.fx{animation:popFade .55s ease-out forwards;font-size:18px}.fx-plant{text-shadow:0 0 8px rgba(34,197,94,.9)}.fx-water{text-shadow:0 0 8px rgba(59,130,246,.9)}.fx-harvest{text-shadow:0 0 8px rgba(234,179,8,.9)}@keyframes popFade{0%{transform:translateY(6px) scale(.7);opacity:0}30%{transform:translateY(-2px) scale(1.1);opacity:1}to{transform:translateY(-10px) scale(.8);opacity:0}}.hint{margin-top:6px;font-size:8px;color:#cbd5f5}.panel{background:#020617;border-radius:12px;border:1px solid #38bdf8;padding:8px;font-size:9px}.panel h3{margin:0 0 6px;font-size:10px}.shop-coins{font-size:9px;margin-bottom:4px}.shop-section{margin-top:6px}.shop-title{font-size:8px;opacity:.8;margin-bottom:3px}.shop-row{display:flex;align-items:center;justify-content:space-between;font-size:8px;gap:4px;margin-bottom:3px}.shop-price{min-width:60px;text-align:right}.shop-row button{font-size:7px;padding:2px 6px;border-radius:999px;border:1px solid #4b5563;background:#0f172a;color:#e5e7eb;cursor:pointer}.shop-row button:disabled{opacity:.35;cursor:default}.panel.quests{border-color:#facc15}.quest-row{display:flex;justify-content:space-between;gap:6px;align-items:center;margin-bottom:4px}.quest-main{flex:1}.quest-label{font-size:8px;margin-bottom:2px}.quest-progress{display:flex;align-items:center;gap:4px}.quest-bar{flex:1;height:6px;border-radius:999px;background:#020617;border:1px solid #4b5563;overflow:hidden}.quest-bar-fill{height:100%;background:linear-gradient(90deg,#22c55e,#facc15)}.quest-count{font-size:7px}.quest-side{display:flex;flex-direction:column;align-items:flex-end;gap:2px}.quest-reward{font-size:8px}.quest-side button{font-size:7px;padding:2px 6px;border-radius:999px;border:1px solid #facc15;background:#0f172a;color:#e5e7eb;cursor:pointer}.quest-side button:disabled{opacity:.4;cursor:default}.panel.barn{border-color:#ea580c}.barn-sub{font-size:8px;opacity:.8;margin-bottom:4px}.barn-layout{display:grid;grid-template-columns:100px minmax(0,1fr);gap:6px;align-items:stretch}.barn-building{display:flex;flex-direction:column;align-items:center;justify-content:flex-end}.barn-roof{width:80px;height:28px;background:linear-gradient(135deg,#b91c1c,#7f1d1d);clip-path:polygon(50% 0,100% 55%,0 55%)}.barn-body{width:80px;height:60px;background:linear-gradient(#7f1d1d,#450a0a);border-radius:0 0 8px 8px;position:relative;display:flex;align-items:flex-end;justify-content:center;padding-bottom:6px}.barn-window{position:absolute;top:10px;left:50%;transform:translate(-50%);width:18px;height:14px;border-radius:3px;background:#fed7aa;box-shadow:0 0 0 2px #451a03}.barn-door{width:30px;height:28px;background:#451a03;border-radius:4px;box-shadow:inset 0 0 0 2px #78350f}.barn-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:4px}.barn-slot{background:#020617;border-radius:8px;border:1px solid #4b5563;padding:4px;display:flex;flex-direction:column;gap:3px;font-size:8px;position:relative;overflow:hidden}.barn-slot.empty{justify-content:center;align-items:stretch}.barn-slot.ready{box-shadow:0 0 0 2px #facc15b3}.barn-slot-label{text-align:center;margin-bottom:2px}.barn-slot-header{display:flex;align-items:center;gap:4px}.barn-emoji{font-size:16px}.barn-name{font-size:8px}.barn-timer{font-size:8px;opacity:.9}.barn-buy,.barn-collect{font-size:7px;padding:2px 4px;border-radius:6px;border:1px solid #4b5563;background:#0f172a;color:#e5e7eb;cursor:pointer}.barn-buy:disabled,.barn-collect:disabled{opacity:.4;cursor:default}.barn-footer{margin-top:4px;display:flex;justify-content:space-between;font-size:8px}.barn-laying{position:absolute;bottom:2px;left:4px;font-size:14px;animation:layBounce 1.1s ease-in-out infinite}.barn-laying.milk{left:auto;right:4px}@keyframes layBounce{0%{transform:translateY(4px);opacity:.4}40%{transform:translateY(-2px);opacity:1}to{transform:translateY(4px);opacity:.5}}.barn-collect-fx{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:flex-end;justify-content:space-between;padding:2px 4px;pointer-events:none;animation:farmerRun .6s ease-out forwards}.barn-farmer,.barn-target{font-size:16px}@keyframes farmerRun{0%{transform:translate(-8px);opacity:0}40%{transform:translate(4px);opacity:1}to{transform:translate(10px);opacity:0}}.inventory-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#0f172acc;display:flex;align-items:center;justify-content:center;z-index:20}.inventory-modal{background:#020617;border-radius:16px;border:2px solid #22c55e;box-shadow:0 20px 50px #000000d9;padding:10px;width:min(480px,90vw);font-size:9px}.inventory-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.inventory-header span{font-size:11px}.inventory-close{border:1px solid #4b5563;background:#111827;color:#e5e7eb;border-radius:999px;font-size:10px;padding:2px 6px;cursor:pointer}.inventory-sub{font-size:8px;opacity:.8;margin-bottom:6px}.inventory-section{margin-bottom:8px}.inventory-title{font-size:9px;margin-bottom:4px}.inventory-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:4px}.inv-slot{display:flex;flex-direction:column;align-items:center;gap:2px}.inv-slot-inner{width:100%;aspect-ratio:1 / 1;background:#020617;border-radius:4px;border:2px solid #4b5563;position:relative;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 0 0 1px #020617}.inv-slot-emoji{font-size:16px}.inv-slot-count{position:absolute;bottom:2px;right:3px;font-size:9px;text-shadow:0 0 3px black}.inv-slot-label{font-size:7px;text-align:center;opacity:.8}.bottom{font-size:8px;opacity:.85;text-align:center;margin-top:4px}@media (max-width: 980px){.layout{grid-template-columns:1fr}}.stats{display:flex;align-items:center;gap:12px;font-size:10px}.stats .coins{min-width:120px}.level-xp{display:flex;flex-direction:column;gap:2px;min-width:150px}.level-line{font-size:9px}.xp-bar{width:100%;height:6px;border-radius:999px;background:#020617;border:1px solid #4b5563;overflow:hidden}.xp-bar-fill{height:100%;background:linear-gradient(90deg,#22c55e,#a855f7);transition:width .28s ease-out}.xp-small{font-size:8px;opacity:.9}.levelup-overlay{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:40}.levelup-card{background:#0f172af7;border-radius:16px;border:2px solid #facc15;padding:16px 24px;text-align:center;box-shadow:0 0 25px #facc15cc;animation:levelUpPop .7s ease-out,levelUpFade 2.2s linear forwards;position:relative;overflow:hidden}.levelup-card:before{content:"";position:absolute;top:-40%;right:-40%;bottom:-40%;left:-40%;background:radial-gradient(circle at 50% 0,rgba(250,250,210,.22),transparent 60%);pointer-events:none}.levelup-title{font-size:11px;margin-bottom:6px;color:#facc15;text-shadow:0 0 10px rgba(250,204,21,.9)}.levelup-level{font-size:12px}.levelup-sub{font-size:8px;margin-top:4px;opacity:.9}@keyframes levelUpPop{0%{transform:scale(.7) translateY(12px);opacity:0}40%{transform:scale(1.05) translateY(0);opacity:1}to{transform:scale(1) translateY(0);opacity:1}}@keyframes levelUpFade{0%{opacity:1}70%{opacity:1}to{opacity:0}}
